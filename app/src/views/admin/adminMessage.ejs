<div class="content">
    <div class="container">
        <h1 class="centered">단체 문자 전송</h1>
        <form id="messageForm">
            <div class="form-group">
                <label for="message">문자 내용:</label>
                <textarea id="message" name="message" rows="5" placeholder="문자 내용을 입력하세요"></textarea>
            </div>
            <div class="form-group">
                <label>수신자 선택:</label>
                <div class="checkbox-group">
                    <div class="checkbox-item">
                        <input type="checkbox" id="selectAll" name="selectAll">
                        <label for="selectAll">모두 선택</label>
                    </div>
                    <div class="checkbox-list">
                        <% for (let i = 0; i < users.length; i++) { %>
                            <div class="checkbox-item">
                                <input type="checkbox" class="userCheckbox" id="user<%= i %>" name="recipients" value="<%= users[i].id %>">
                                <label for="user<%= i %>"><%= users[i].name %> (<%= users[i].id %>)</label>
                            </div>
                        <% } %>
                    </div>
                </div>
            </div>
            <div class="form-group centered">
                <button type="submit">전송</button>
            </div>
        </form>
    </div>
</div>
<script>
    document.getElementById('selectAll').addEventListener('change', function() {
        const checkboxes = document.querySelectorAll('.userCheckbox');
        checkboxes.forEach(checkbox => {
            checkbox.checked = this.checked;
        });
    });
</script>